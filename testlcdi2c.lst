CCS PCM C Compiler, Version 5.109, 43599               16-Dec-25 22:09

               Filename:   D:\LTVDK\Baitap\Code\vidieukhienbaocao\testlcdi2c.lst

               ROM used:   400 words (5%)
                           Largest free fragment is 2048
               RAM used:   12 (3%) at main() level
                           21 (6%) worst case
               Stack used: 5 locations
               Stack size: 8

*
0000:  MOVLW  01
0001:  MOVWF  0A
0002:  GOTO   13F
0003:  NOP
.................... #include <16f877a.h>
.................... //////////// Standard Header file for the PIC16F877A device ////////////////
.................... ///////////////////////////////////////////////////////////////////////////
.................... ////        (C) Copyright 1996, 2020 Custom Computer Services          ////
.................... //// This source code may only be used by licensed users of the CCS C  ////
.................... //// compiler.  This source code may only be distributed to other      ////
.................... //// licensed users of the CCS C compiler.  No other use, reproduction ////
.................... //// or distribution is permitted without written permission.          ////
.................... //// Derivative programs created using this software in object code    ////
.................... //// form are not restricted in any way.                               ////
.................... ///////////////////////////////////////////////////////////////////////////
.................... #device PIC16F877A
0004:  DATA 49,19
0005:  DATA 43,10
0006:  DATA CC,21
0007:  DATA 44,10
0008:  DATA D4,22
0009:  DATA 53,2A
000A:  DATA 00,00
000B:  DATA D0,24
000C:  DATA C3,18
000D:  DATA 36,23
000E:  DATA B8,1B
000F:  DATA B7,20
0010:  DATA 00,00
*
00E9:  MOVF   0B,W
00EA:  MOVWF  26
00EB:  BCF    0B.7
00EC:  BSF    03.5
00ED:  BSF    03.6
00EE:  BSF    0C.7
00EF:  BSF    0C.0
00F0:  NOP
00F1:  NOP
00F2:  BCF    03.5
00F3:  BCF    03.6
00F4:  BTFSC  26.7
00F5:  BSF    0B.7
00F6:  BSF    03.6
00F7:  MOVF   0C,W
00F8:  ANDLW  7F
00F9:  BTFSC  03.2
00FA:  GOTO   13D
00FB:  BCF    03.6
00FC:  MOVWF  26
00FD:  BSF    03.6
00FE:  MOVF   0D,W
00FF:  BCF    03.6
0100:  MOVWF  27
0101:  BSF    03.6
0102:  MOVF   0F,W
0103:  BCF    03.6
0104:  MOVWF  28
0105:  MOVF   26,W
0106:  MOVWF  29
0107:  CALL   0D9
0108:  MOVF   27,W
0109:  BSF    03.6
010A:  MOVWF  0D
010B:  BCF    03.6
010C:  MOVF   28,W
010D:  BSF    03.6
010E:  MOVWF  0F
010F:  BCF    03.6
0110:  MOVF   0B,W
0111:  MOVWF  29
0112:  BCF    0B.7
0113:  BSF    03.5
0114:  BSF    03.6
0115:  BSF    0C.7
0116:  BSF    0C.0
0117:  NOP
0118:  NOP
0119:  BCF    03.5
011A:  BCF    03.6
011B:  BTFSC  29.7
011C:  BSF    0B.7
011D:  BSF    03.6
011E:  RLF    0C,W
011F:  RLF    0E,W
0120:  ANDLW  7F
0121:  BTFSC  03.2
0122:  GOTO   13D
0123:  BCF    03.6
0124:  MOVWF  26
0125:  BSF    03.6
0126:  MOVF   0D,W
0127:  BCF    03.6
0128:  MOVWF  27
0129:  BSF    03.6
012A:  MOVF   0F,W
012B:  BCF    03.6
012C:  MOVWF  28
012D:  MOVF   26,W
012E:  MOVWF  29
012F:  CALL   0D9
0130:  MOVF   27,W
0131:  BSF    03.6
0132:  MOVWF  0D
0133:  BCF    03.6
0134:  MOVF   28,W
0135:  BSF    03.6
0136:  MOVWF  0F
0137:  INCF   0D,F
0138:  BTFSC  03.2
0139:  INCF   0F,F
013A:  BCF    03.6
013B:  GOTO   0E9
013C:  BSF    03.6
013D:  BCF    03.6
013E:  RETURN
.................... 
.................... #list
.................... 
.................... #include <def_877a.h>
.................... #define W 0
.................... #define F 1
.................... 
.................... //----- Register Files------------------------------------------------------
.................... 
.................... #byte INDF =0x00
.................... #byte TMR0 =0x01 
.................... #byte PCL =0x02 
.................... #byte STATUS =0x03 
.................... #byte FSR =0x04 
.................... #byte PORTA =0x05 
.................... #byte PORTB =0x06 
.................... #byte PORTC =0x07
.................... 
.................... #byte PCLATH =0x0A 
.................... #byte PIR1 =0x0C
.................... #byte PIR2 =0x0D
.................... 
.................... #byte TMR1L =0x0E
.................... #byte TMR1H =0x0F
.................... #byte T1CON =0x10
.................... #byte TMR2 =0x11
.................... #byte T2CON =0x12
.................... 
.................... #byte SSPCON =0x14
.................... #byte CCPR1L =0x15
.................... #byte CCPR1H =0x16
.................... #byte CCP1CON =0x17
.................... #byte RCSTA =0x18
.................... #byte TXREG =0x19
.................... #byte RCREG =0x1A
.................... #byte CCPR2L =0x1B
.................... #byte CCPR2H =0x1C
.................... #byte CCP2CON =0x1D 
.................... 
.................... #byte ADRESH =0x1E
.................... #byte ADCON0 =0x1F
.................... 
.................... /* bank 1 registers */
.................... 
.................... #byte OPTION_REG =0x81
.................... 
.................... #byte TRISA =0x85
.................... #byte TRISB =0x86
.................... #byte TRISC =0x87
.................... 
.................... #byte PIE1 =0x8C
.................... #byte PIE2 =0x8D
.................... #byte PCON =0x8E
.................... 
.................... #byte SSPCON2 =0x91
.................... #byte PR2 =0x92
.................... #byte SSPADD =0x93
.................... #byte SSPSTAT =0x94
.................... 
.................... #byte TXSTA =0x98
.................... #byte SPBRG =0x99
.................... 
.................... #byte ADRESL =0x9E
.................... #byte ADCON1 =0x9F
.................... 
.................... /* bank 2 registers */
.................... 
.................... #byte EEDATA =0x010C
.................... #byte EEADR =0x010D
.................... #byte EEDATH =0x010E
.................... #byte EEADRH =0x010F
.................... 
.................... /* bank 3 registers */
.................... 
.................... #byte EECON1 =0x018C
.................... #byte EECON2 =0x018D
.................... 
.................... 
.................... //----- STATUS Bits --------------------------------------------------------
.................... 
.................... // For Assembly Language - Note upper case
.................... #define IRP 7
.................... #define RP1 6
.................... #define RP0 5
.................... #define NOT_TO 4
.................... #define NOT_PD 3
.................... #define Z 2
.................... #define DC 1
.................... #define C 0
.................... 
.................... //----- INTCON Bits for c --------------------------------------------------------
.................... 
.................... #bit gie = 0x0b.7
.................... #bit eeie = 0x0b.6
.................... #bit t0ie = 0x0b.5
.................... #bit inte = 0x0b.4
.................... #bit rbie = 0x0b.3
.................... #bit t0if = 0x0b.2
.................... #bit intf = 0x0b.1
.................... #bit rbif = 0x0b.0
.................... 
.................... //---------PORTA bits------------------
.................... #bit ra5 =0x05.5
.................... #bit ra4 =0x05.4
.................... #bit ra3 =0x05.3
.................... #bit ra2 =0x05.2
.................... #bit ra1 =0x05.1
.................... #bit ra0 =0x05.0
.................... 
.................... //---------PORTB bits------------------
.................... #bit rb7 =0x06.7
.................... #bit rb6 =0x06.6
.................... #bit rb5 =0x06.5
.................... #bit rb4 =0x06.4
.................... #bit rb3 =0x06.3
.................... #bit rb2 =0x06.2
.................... #bit rb1 =0x06.1
.................... #bit rb0 =0x06.0
.................... 
.................... //---------PORTC bits------------------
.................... #bit rc7 =0x07.7
.................... #bit rc6 =0x07.6
.................... #bit rc5 =0x07.5
.................... #bit rc4 =0x07.4
.................... #bit rc3 =0x07.3
.................... #bit rc2 =0x07.2
.................... #bit rc1 =0x07.1
.................... #bit rc0 =0x07.0
.................... 
.................... //----- PIR1 Bits ----------------------------------------------------------
.................... #bit PSPIF =0x0C.7
.................... #bit ADIF =0x0C.6
.................... #bit RCIF =0x0C.5
.................... #bit TXIF =0x0C.4
.................... #bit SSPIF =0x0C.3
.................... #bit CCP1IF =0x0C.2
.................... #bit TMR2IF =0x0C.1
.................... #bit TMR1IF =0x0C.0
.................... 
.................... //----- PIR2 Bits ----------------------------------------------------------
.................... #bit CMIF =0x0D.6
.................... #bit EEIF =0x0D.4
.................... #bit BCLIF =0x0D.3
.................... #bit CCP2IF =0x0D.0
.................... 
.................... //----- T1CON Bits ---------------------------------------------------------
.................... #bit T1CKPS1 =0x10.5
.................... #bit T1CKPS0 =0x10.4
.................... #bit T1OSCEN =0x10.3
.................... #bit T1SYNC =0x10.2
.................... #bit TMR1CS =0x10.1
.................... #bit TMR1ON =0x10.0
.................... 
.................... //----- T2CON Bits ---------------------------------------------------------
.................... #bit TOUTPS3 =0x12.6
.................... #bit TOUTPS2 =0x12.5
.................... #bit TOUTPS1 =0x12.4
.................... #bit TOUTPS0 =0x12.3
.................... #bit TMR2ON =0x12.2
.................... #bit T2CKPS1 =0x12.1
.................... #bit T2CKPS0 =0x12.0
.................... 
.................... //-------------SSPCON bits--------------------------
.................... #bit WCOL =0x14.7
.................... #bit SSPOV =0x14.6
.................... #bit SSPEN =0x14.5 
.................... #bit CKP =0x14.4
.................... #bit SSPM3 =0x14.3
.................... #bit SSPM2 =0x14.2
.................... #bit SSPM1 =0x14.1
.................... #bit SSPM0 =0x14.0
.................... 
.................... //---------------CCP1CON bits--------
.................... #bit CCP1X =0x17.5
.................... #bit CCP1Y =0x17.4
.................... #bit CCP1M3 =0x17.3
.................... #bit CCP1M2 =0x17.2
.................... #bit CCP1M1 =0x17.1
.................... #bit CCP1M0 =0x17.0
.................... 
.................... //---------------RCSTA bits-------------------
.................... 
.................... #bit SPEN =0x18.7
.................... #bit RX9 =0x18.6
.................... #bit SREN =0x18.5
.................... #bit CREN =0x18.4
.................... #bit ADDEN =0x18.3
.................... #bit FERR =0x18.2
.................... #bit OERR =0x18.1
.................... #bit RX9D =0x18.0
.................... 
.................... //-----------------------CCP2CON bits----------
.................... 
.................... #bit CCP2X =0x1D.5
.................... #bit CCP2Y =0x1D.4
.................... #bit CCP2M3 =0x1D.3
.................... #bit CCP2M2 =0x1D.2
.................... #bit CCP2M1 =0x1D.1
.................... #bit CCP2M0 =0x1D.0
.................... 
.................... //----- ADCON0 Bits --------------------------------------------------------
.................... #bit ADCS1 =0x1F.7
.................... #bit ADCS0 =0x1F.6
.................... #bit CHS2 =0x1F.5 
.................... #bit CHS1 =0x1F.4
.................... #bit CHS0 =0x1F.3
.................... #bit ADGO =0x1F.2
.................... #bit ADON =0x1F.0
.................... 
.................... //----- OPTION_reg Bits --------------------------------------------------------
.................... 
.................... #bit RBPU =0x81.7 
.................... #bit INTEDG =0x81.6 
.................... #bit T0CS =0x81.5 
.................... #bit T0SE =0x81.4 
.................... #bit PSA =0x81.3 
.................... #bit PS2 =0x81.2 
.................... #bit PS1 =0x81.1 
.................... #bit PS0 =0x81.0 
.................... 
.................... //------------------TRISA bits---------------------------
.................... 
.................... #bit TRISA5 =0x85.5
.................... #bit TRISA4 =0x85.4
.................... #bit TRISA3 =0x85.3
.................... #bit TRISA2 =0x85.2
.................... #bit TRISA1 =0x85.1 
.................... #bit TRISA0 =0x85.0
.................... 
.................... //-----------------TRISB bits-----------------------------
.................... 
.................... #bit TRISB7 =0x86.7
.................... #bit TRISB6 =0x86.6 
.................... #bit TRISB5 =0x86.5
.................... #bit TRISB4 =0x86.4 
.................... #bit TRISB3 =0x86.3
.................... #bit TRISB2 =0x86.2
.................... #bit TRISB1 =0x86.1 
.................... #bit TRISB0 =0x86.0 
.................... 
.................... //----------------TRISC bits-------------------
.................... 
.................... #bit TRISC7 =0x87.7
.................... #bit TRISC6 =0x87.6
.................... #bit TRISC5 =0x87.5 
.................... #bit TRISC4 =0x87.4
.................... #bit TRISC3 =0x87.3
.................... #bit TRISC2 =0x87.2 
.................... #bit TRISC1 =0x87.1
.................... #bit TRISC0 =0x87.0
.................... 
.................... //----- PIE1 Bits ----------------------------------------------------------
.................... 
.................... #bit PSPIE =0x8C.7
.................... #bit ADIE =0x8C.6
.................... #bit RCIE =0x8C.5 
.................... #bit TXIE =0x8C.4 
.................... #bit SSPIE =0x8C.3
.................... #bit CCP1IE =0x8C.2 
.................... #bit TMR2IE =0x8C.1
.................... #bit TMR1IE =0x8C.0
.................... 
.................... //----- PIE2 Bits -----------------------------------------------------
.................... 
.................... #bit CMIE =0x8D.6
.................... #bit EEIE =0x8D.4
.................... #bit BCLIE =0x8D.3
.................... #bit CCP2IE =0x8D.0
.................... 
.................... //----- PCON Bits ----------------------------------------------------------
.................... 
.................... #bit POR =0x8E.1
.................... #bit BOD =0x8E.0
.................... 
.................... //-----------SSPCON2 bits---------------------------------------------
.................... 
.................... #bit GCEN =0x91.7
.................... #bit ACKSTAT =0x91.6
.................... #bit ACKDT =0x91.5 
.................... #bit ACKEN =0x91.4
.................... #bit RCEN =0x91.3 
.................... #bit PEN =0x91.2
.................... #bit RSEN =0x91.1
.................... #bit SEN =0x91.0 
.................... 
.................... //---------------------SSPSTAT bits------------------------
.................... 
.................... #bit STAT_SMP =0x94.7
.................... #bit STAT_CKE =0x94.6
.................... #bit STAT_DA =0x94.5
.................... #bit STAT_P =0x94.4
.................... #bit STAT_S =0x94.3
.................... #bit STAT_RW =0x94.2
.................... #bit STAT_UA =0x94.1
.................... #bit STAT_BF =0x94.0
.................... 
.................... //----------------TXSTA bits-----------------
.................... 
.................... #bit CSRC =0x98.7
.................... #bit TX9 =0x98.6
.................... #bit TXEN =0x98.5 
.................... #bit SYNC =0x98.4
.................... #bit BRGH =0x98.2
.................... #bit TRMT =0x98.1
.................... #bit TX9D =0x98.0
.................... 
.................... //--------------ADCON1 bits---------------
.................... 
.................... #bit ADFM =0x9F.7
.................... #bit ADCS2 =0x9F.6
.................... #bit PCFG3 =0x9F.3
.................... #bit PCFG2 =0x9F.2
.................... #bit PCFG1 =0x9F.1 
.................... #bit PCFG0 =0x9F.0
.................... 
.................... //-----------EECON1 bits----------
.................... 
.................... #bit EEPGD =0x018C.7
.................... #bit WRERR =0x018C.3
.................... #bit WREN =0x018C.2 
.................... #bit WR =0x018C.1
.................... #bit RD =0x018C.0
.................... 
.................... 
.................... #device *=16 ADC=8
.................... #FUSES NOWDT, HS, NOPUT, NODEBUG, NOBROWNOUT, NOLVP, NOCPD, NOWRT
.................... #use delay(clock = 20MHz)
*
0011:  MOVLW  27
0012:  MOVWF  04
0013:  BCF    03.7
0014:  MOVF   00,W
0015:  BTFSC  03.2
0016:  GOTO   024
0017:  MOVLW  06
0018:  MOVWF  78
0019:  CLRF   77
001A:  DECFSZ 77,F
001B:  GOTO   01A
001C:  DECFSZ 78,F
001D:  GOTO   019
001E:  MOVLW  7B
001F:  MOVWF  77
0020:  DECFSZ 77,F
0021:  GOTO   020
0022:  DECFSZ 00,F
0023:  GOTO   017
0024:  RETURN
.................... 
.................... #use i2c(MASTER, SDA=PIN_C4, SCL=PIN_C3, stream=I2C_LCD, FAST)
0025:  BCF    14.7
0026:  BCF    0C.3
0027:  MOVF   2F,W
0028:  MOVWF  13
0029:  MOVLW  02
002A:  BTFSC  14.7
002B:  GOTO   033
002C:  BSF    03.5
002D:  BTFSC  14.2
002E:  GOTO   02D
002F:  MOVLW  00
0030:  BTFSC  11.6
0031:  MOVLW  01
0032:  BCF    03.5
0033:  MOVWF  78
0034:  RETURN
.................... #include <I2C_LCD.c>
.................... // CCS C driver code for I2C LCDs (HD44780 compliant controllers)
.................... // https://simple-circuit.com/
.................... 
.................... 
.................... 
.................... #define LCD_BACKLIGHT          0x08
.................... #define LCD_NOBACKLIGHT        0x00
.................... #define LCD_FIRST_ROW          0x80
.................... #define LCD_SECOND_ROW         0xC0
.................... #define LCD_THIRD_ROW          0x94
.................... #define LCD_FOURTH_ROW         0xD4
.................... #define LCD_CLEAR              0x01
.................... #define LCD_RETURN_HOME        0x02
.................... #define LCD_ENTRY_MODE_SET     0x04
.................... #define LCD_CURSOR_OFF         0x0C
.................... #define LCD_UNDERLINE_ON       0x0E
.................... #define LCD_BLINK_CURSOR_ON    0x0F
.................... #define LCD_MOVE_CURSOR_LEFT   0x10
.................... #define LCD_MOVE_CURSOR_RIGHT  0x14
.................... #define LCD_TURN_ON            0x0C
.................... #define LCD_TURN_OFF           0x08
.................... #define LCD_SHIFT_LEFT         0x18
.................... #define LCD_SHIFT_RIGHT        0x1E
.................... 
.................... #ifndef LCD_TYPE
....................    #define LCD_TYPE 2           // 0=5x7, 1=5x10, 2=2 lines
.................... #endif
.................... 
.................... 
.................... int1 RS;
.................... unsigned int8 i2c_addr, backlight_val = LCD_BACKLIGHT;
.................... 
.................... void LCD_Write_Nibble(unsigned int8 n);
.................... void LCD_Cmd(unsigned int8 Command);
.................... void LCD_Goto(unsigned int8 col, unsigned int8 row);
.................... void LCD_Out(unsigned int8 LCD_Char);
.................... void LCD_Begin(unsigned int8 _i2c_addr);
.................... void Backlight();
.................... void noBacklight();
.................... void Expander_Write(unsigned int8 value);
.................... 
.................... void LCD_Write_Nibble(unsigned int8 n) {
....................   n |= RS;
*
0048:  MOVLW  00
0049:  BTFSC  21.0
004A:  MOVLW  01
004B:  IORWF  2B,F
....................   Expander_Write(n);
004C:  MOVF   2B,W
004D:  MOVWF  2D
004E:  CALL   035
....................   Expander_Write(n | 0x04);
004F:  MOVF   2B,W
0050:  IORLW  04
0051:  MOVWF  2C
0052:  MOVWF  2D
0053:  CALL   035
....................   delay_us(1);
0054:  GOTO   055
0055:  GOTO   056
0056:  NOP
....................   Expander_Write(n & 0xFB);
0057:  MOVF   2B,W
0058:  ANDLW  FB
0059:  MOVWF  2C
005A:  MOVWF  2D
005B:  CALL   035
....................   delay_us(50);
005C:  MOVLW  53
005D:  MOVWF  77
005E:  DECFSZ 77,F
005F:  GOTO   05E
0060:  RETURN
.................... }
.................... 
.................... void LCD_Cmd(unsigned int8 Command) {
....................   RS = 0;
0061:  BCF    21.0
....................   LCD_Write_Nibble(Command & 0xF0);
0062:  MOVF   29,W
0063:  ANDLW  F0
0064:  MOVWF  2A
0065:  MOVWF  2B
0066:  CALL   048
....................   LCD_Write_Nibble((Command << 4) & 0xF0);
0067:  SWAPF  29,W
0068:  MOVWF  77
0069:  MOVLW  F0
006A:  ANDWF  77,F
006B:  MOVF   77,W
006C:  ANDLW  F0
006D:  MOVWF  2A
006E:  MOVWF  2B
006F:  CALL   048
0070:  RETURN
.................... }
.................... 
.................... void LCD_Goto(unsigned int8 col, unsigned int8 row) {
....................   switch(row) {
*
00B2:  MOVF   27,W
00B3:  XORLW  02
00B4:  BTFSC  03.2
00B5:  GOTO   0BD
00B6:  XORLW  01
00B7:  BTFSC  03.2
00B8:  GOTO   0C4
00B9:  XORLW  07
00BA:  BTFSC  03.2
00BB:  GOTO   0CB
00BC:  GOTO   0D2
....................     case 2:
....................       LCD_Cmd(0xC0 + col-1);
00BD:  MOVLW  C0
00BE:  ADDWF  26,W
00BF:  ADDLW  FF
00C0:  MOVWF  28
00C1:  MOVWF  29
00C2:  CALL   061
....................       break;
00C3:  GOTO   0D8
....................     case 3:
....................       LCD_Cmd(0x94 + col-1);
00C4:  MOVLW  94
00C5:  ADDWF  26,W
00C6:  ADDLW  FF
00C7:  MOVWF  28
00C8:  MOVWF  29
00C9:  CALL   061
....................       break;
00CA:  GOTO   0D8
....................     case 4:
....................       LCD_Cmd(0xD4 + col-1);
00CB:  MOVLW  D4
00CC:  ADDWF  26,W
00CD:  ADDLW  FF
00CE:  MOVWF  28
00CF:  MOVWF  29
00D0:  CALL   061
....................     break;
00D1:  GOTO   0D8
....................     default:      // case 1:
....................       LCD_Cmd(0x80 + col-1);
00D2:  MOVLW  80
00D3:  ADDWF  26,W
00D4:  ADDLW  FF
00D5:  MOVWF  28
00D6:  MOVWF  29
00D7:  CALL   061
....................   }
00D8:  RETURN
.................... }
.................... 
.................... void LCD_Out(unsigned int8 LCD_Char){
....................   RS = 1;
00D9:  BSF    21.0
....................   LCD_Write_Nibble(LCD_Char & 0xF0);
00DA:  MOVF   29,W
00DB:  ANDLW  F0
00DC:  MOVWF  2A
00DD:  MOVWF  2B
00DE:  CALL   048
....................   LCD_Write_Nibble((LCD_Char << 4) & 0xF0);
00DF:  SWAPF  29,W
00E0:  MOVWF  77
00E1:  MOVLW  F0
00E2:  ANDWF  77,F
00E3:  MOVF   77,W
00E4:  ANDLW  F0
00E5:  MOVWF  2A
00E6:  MOVWF  2B
00E7:  CALL   048
00E8:  RETURN
.................... }
.................... 
.................... void LCD_Begin(unsigned int8 _i2c_addr) {
....................   i2c_addr = _i2c_addr;
*
0071:  MOVF   26,W
0072:  MOVWF  22
....................   Expander_Write(0);
0073:  CLRF   2D
0074:  CALL   035
....................   delay_ms(40);
0075:  MOVLW  28
0076:  MOVWF  27
0077:  CALL   011
....................   LCD_Cmd(3);
0078:  MOVLW  03
0079:  MOVWF  29
007A:  CALL   061
....................   delay_ms(5);
007B:  MOVLW  05
007C:  MOVWF  27
007D:  CALL   011
....................   LCD_Cmd(3);
007E:  MOVLW  03
007F:  MOVWF  29
0080:  CALL   061
....................   delay_ms(5);
0081:  MOVLW  05
0082:  MOVWF  27
0083:  CALL   011
....................   LCD_Cmd(3);
0084:  MOVLW  03
0085:  MOVWF  29
0086:  CALL   061
....................   delay_ms(5);
0087:  MOVLW  05
0088:  MOVWF  27
0089:  CALL   011
....................   LCD_Cmd(LCD_RETURN_HOME);
008A:  MOVLW  02
008B:  MOVWF  29
008C:  CALL   061
....................   delay_ms(5);
008D:  MOVLW  05
008E:  MOVWF  27
008F:  CALL   011
....................   LCD_Cmd(0x20 | (LCD_TYPE << 2));
0090:  MOVLW  28
0091:  MOVWF  29
0092:  CALL   061
....................   delay_ms(50);
0093:  MOVLW  32
0094:  MOVWF  27
0095:  CALL   011
....................   LCD_Cmd(LCD_TURN_ON);
0096:  MOVLW  0C
0097:  MOVWF  29
0098:  CALL   061
....................   delay_ms(50);
0099:  MOVLW  32
009A:  MOVWF  27
009B:  CALL   011
....................   LCD_Cmd(LCD_CLEAR);
009C:  MOVLW  01
009D:  MOVWF  29
009E:  CALL   061
....................   delay_ms(50);
009F:  MOVLW  32
00A0:  MOVWF  27
00A1:  CALL   011
....................   LCD_Cmd(LCD_ENTRY_MODE_SET | LCD_RETURN_HOME);
00A2:  MOVLW  06
00A3:  MOVWF  29
00A4:  CALL   061
....................   delay_ms(50);
00A5:  MOVLW  32
00A6:  MOVWF  27
00A7:  CALL   011
00A8:  BCF    0A.3
00A9:  BCF    0A.4
00AA:  GOTO   16D (RETURN)
.................... }
.................... 
.................... void Backlight() {
....................   backlight_val = LCD_BACKLIGHT;
00AB:  MOVLW  08
00AC:  MOVWF  23
....................   Expander_Write(0);
00AD:  CLRF   2D
00AE:  CALL   035
00AF:  BCF    0A.3
00B0:  BCF    0A.4
00B1:  GOTO   16E (RETURN)
.................... }
.................... 
.................... void noBacklight() {
....................   backlight_val = LCD_NOBACKLIGHT;
....................   Expander_Write(0);
.................... }
.................... 
.................... void Expander_Write(unsigned int8 value) {
....................   I2C_Start(I2C_LCD);
*
0035:  BSF    03.5
0036:  BSF    11.0
0037:  BTFSC  11.0
0038:  GOTO   037
....................   I2C_Write(I2C_LCD, i2c_addr);
0039:  BCF    03.5
003A:  MOVF   22,W
003B:  MOVWF  2F
003C:  CALL   025
....................   I2C_Write(I2C_LCD, value | backlight_val);
003D:  MOVF   2D,W
003E:  IORWF  23,W
003F:  MOVWF  2E
0040:  MOVWF  2F
0041:  CALL   025
....................   I2C_Stop(I2C_LCD);
0042:  BSF    03.5
0043:  BSF    11.2
0044:  BTFSC  11.2
0045:  GOTO   044
0046:  BCF    03.5
0047:  RETURN
.................... }
.................... 
.................... 
.................... void main()
*
013F:  MOVF   03,W
0140:  ANDLW  1F
0141:  MOVWF  03
0142:  MOVLW  FF
0143:  MOVWF  20
0144:  BSF    20.3
0145:  MOVF   20,W
0146:  BSF    03.5
0147:  MOVWF  07
0148:  BCF    03.5
0149:  BSF    20.4
014A:  MOVF   20,W
014B:  BSF    03.5
014C:  MOVWF  07
014D:  MOVLW  0C
014E:  MOVWF  13
014F:  MOVLW  28
0150:  BCF    03.5
0151:  MOVWF  14
0152:  BSF    03.5
0153:  BCF    14.7
0154:  BCF    14.6
0155:  MOVLW  08
0156:  BCF    03.5
0157:  MOVWF  23
0158:  CLRF   25
0159:  CLRF   24
015A:  BSF    03.5
015B:  BSF    1F.0
015C:  BSF    1F.1
015D:  BSF    1F.2
015E:  BCF    1F.3
015F:  MOVLW  07
0160:  MOVWF  1C
0161:  BCF    03.7
.................... {
....................    delay_ms(300);          // ch? ngu?n ?n d?nh
0162:  MOVLW  02
0163:  BCF    03.5
0164:  MOVWF  26
0165:  MOVLW  96
0166:  MOVWF  27
0167:  CALL   011
0168:  DECFSZ 26,F
0169:  GOTO   165
.................... 
....................    LCD_Begin(0x3E);        // 0x27 << 1
016A:  MOVLW  3E
016B:  MOVWF  26
016C:  GOTO   071
....................    Backlight();
016D:  GOTO   0AB
.................... 
....................    LCD_Cmd(LCD_CLEAR);
016E:  MOVLW  01
016F:  MOVWF  29
0170:  CALL   061
....................    delay_ms(10);
0171:  MOVLW  0A
0172:  MOVWF  27
0173:  CALL   011
.................... 
....................    LCD_Cmd(LCD_CURSOR_OFF);
0174:  MOVLW  0C
0175:  MOVWF  29
0176:  CALL   061
.................... 
....................    LCD_Goto(1,1);
0177:  MOVLW  01
0178:  MOVWF  26
0179:  MOVWF  27
017A:  CALL   0B2
....................    printf(LCD_Out, "I2C LCD TEST");
017B:  MOVLW  04
017C:  BSF    03.6
017D:  MOVWF  0D
017E:  MOVLW  00
017F:  MOVWF  0F
0180:  BCF    03.6
0181:  CALL   0E9
.................... 
....................    LCD_Goto(1,2);
0182:  MOVLW  01
0183:  MOVWF  26
0184:  MOVLW  02
0185:  MOVWF  27
0186:  CALL   0B2
....................    printf(LCD_Out, "PIC16F877A");
0187:  MOVLW  0B
0188:  BSF    03.6
0189:  MOVWF  0D
018A:  MOVLW  00
018B:  MOVWF  0F
018C:  BCF    03.6
018D:  CALL   0E9
.................... 
....................    while(TRUE);            // d?ng yên
018E:  GOTO   18E
.................... }
.................... 
018F:  SLEEP

Configuration Fuses:
   Word  1: 3F3A   HS NOWDT NOPUT NOBROWNOUT NOLVP NOCPD NOWRT NODEBUG NOPROTECT
